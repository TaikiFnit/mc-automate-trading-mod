# 🚀 村人取引自動化MOD - クイックテスト

## すぐに試せる機能

### 1. 基本的な動作確認

ビルドが完了したら、以下のコマンドで開発環境を起動：

```bash
./gradlew runClient
```

### 2. インゲームでのテスト手順

#### ステップ1: 村人をスポーン
```
/summon minecraft:villager ~ ~1 ~
```

#### ステップ2: 村人に職業を与える
- 職業ブロック（鍛冶台、作業台等）を近くに置く
- 村人が緑色の粒子を出して職業を得るまで待つ

#### ステップ3: 取引アイテムを入手
```
/give @p minecraft:wheat 64
/give @p minecraft:iron_ingot 32
/give @p minecraft:stick 64
```

#### ステップ4: 自動取引をテスト
1. 村人を右クリックして取引画面を確認
2. 取引可能なアイテムを村人の足元に投げる（Qキー）
3. **約1秒後に自動的に取引が実行される**
4. 取引結果のアイテムが地面に出現
5. 村人が「はい」という音を出す

### 3. 設定テスト

#### エメラルド安全機能のテスト
```
/give @p minecraft:emerald 10
```
- エメラルドを村人に投げる
- **取引が実行されない**ことを確認（安全機能）

#### 範囲テスト
- 村人から離れた場所（4ブロック以上）にアイテムを投げる
- 取引が実行されないことを確認
- 近づけて（3ブロック以内）再テスト

### 4. Create MOD連携（オプション）

Create MODがある場合：
1. Deployerを設置
2. 村人をDeployerの前（1ブロック先）に配置
3. Deployerに取引可能なアイテムをセット
4. レッドストーン信号で動作させる

## 期待される結果

### ✅ 成功時の動作
- アイテムを投げてから1秒後に取引実行
- 村人の「はい」音
- 取引結果アイテムの出現
- 投げたアイテムの消費（または数量減少）

### ❌ 制限時の動作
- エメラルド投げ → 何も起こらない
- 範囲外 → 何も起こらない
- 村人が寝ている → 何も起こらない
- 取引上限到達 → 何も起こらない

## デバッグ情報

### ログ確認
```bash
tail -f logs/latest.log | grep "villagertrading"
```

### 設定変更
設定ファイル: `config/villagertrading-common.toml`
```toml
[villager_trading]
debug_logging = true  # ← これを有効にするとコンソールに詳細ログ
```

## トラブルシューティング

### 動作しない場合
1. 村人が職業を持っているか確認
2. 村人が起きているか確認
3. 正しいアイテムを投げているか確認
4. 距離が近すぎないか確認（3ブロック以内）

### よくある問題
- **村人に職業がない** → 職業ブロックを置く
- **アイテムが間違い** → 村人の取引内容を確認
- **距離が遠い** → もっと近くに投げる
- **MODが読み込まれていない** → F3+Tでリロード

## 実演動画風の手順

1. 🏠 村を見つけるか、村人をスポーン
2. 🔨 鍛冶台を置いて村人を武器鍛冶にする
3. 💎 村人を右クリックして「鉄インゴット → エメラルド」取引を確認
4. 🎯 鉄インゴットを村人の足元に投げる
5. ⚡ **自動的に取引実行！**
6. 💰 エメラルドが地面に出現
7. 🎉 成功！

このMODにより、面倒な右クリック取引が不要になり、アイテムを投げるだけで自動取引できるようになります！